"""
Info Handler
–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤ (–û –ø—Ä–æ–µ–∫—Ç–µ, –ö–æ–º–∞–Ω–¥–∞, –ü–ª–∞–Ω—ã)
"""

import logging
from aiogram import Router
from aiogram.types import CallbackQuery
from ui.menus import get_about_menu, get_team_menu, get_future_menu, get_main_menu, get_agreement_menu

logger = logging.getLogger(__name__)

router = Router()


async def show_about_project(callback: CallbackQuery):
    """–ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–¥–µ–ª "–û –ø—Ä–æ–µ–∫—Ç–µ" """
    try:
        text = """
üß± <b>–û –ø—Ä–æ–µ–∫—Ç–µ</b>

–≠—Ç–æ—Ç –±–æ—Ç —Å–æ–∑–¥–∞–Ω –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞ <b>–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ—Ä–∏–ª–∞–Ω—Å–∞</b> ‚Äî –æ–Ω —Å–∞–º –∏—â–µ—Ç –∑–∞–∫–∞–∑—ã, –æ—Ç–∫–ª–∏–∫–∞–µ—Ç—Å—è, –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á–∏ –∏ –ø—Ä–∏–Ω–æ—Å–∏—Ç –ø—Ä–∏–±—ã–ª—å.

<b>–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞:</b>
–°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–∞—Å—Å–∏–≤–Ω–æ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∫–∞, –≥–¥–µ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ –ª—é–¥–µ–π ‚Äî –æ—Ç –æ—Ç–∫–ª–∏–∫–æ–≤ –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤.

<b>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</b>
‚Ä¢ ü§ñ –ò–ò –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–¥–∞–Ω–∏—è –Ω–∞ —Ñ—Ä–∏–ª–∞–Ω—Å-–±–∏—Ä–∂–∞—Ö
‚Ä¢ ‚úçÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–∫–ª–∏–∫–∏
‚Ä¢ üíº –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ
‚Ä¢ üí∞ –ü—Ä–∏–Ω–æ—Å–∏—Ç –ø—Ä–∏–±—ã–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

<b>–î–ª—è –∫–æ–≥–æ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç:</b>
‚Ä¢ –õ—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–∞—Å—Å–∏–≤–Ω–æ
‚Ä¢ –§—Ä–∏–ª–∞–Ω—Å–µ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–µ–Ω –ø–æ–º–æ—â–Ω–∏–∫
‚Ä¢ –¢–µ, –∫—Ç–æ –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ

<i>–ú—ã –≤–µ—Ä–∏–º, —á—Ç–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ –ª—é–¥–µ–π, –∞ –Ω–µ –Ω–∞–æ–±–æ—Ä–æ—Ç.</i>
"""
        await callback.message.edit_text(
            text,
            reply_markup=get_about_menu(),
            parse_mode="HTML"
        )
        await callback.answer()
        
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –≤ show_about_project: {e}")
        await callback.answer("üòî –û—à–∏–±–∫–∞", show_alert=True)


async def show_team(callback: CallbackQuery):
    """–ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–¥–µ–ª "–ö–æ–º–∞–Ω–¥–∞" """
    try:
        text = """
üëë <b>–ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞</b>

<b>–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å:</b> @Danyadlyalubvi2
<b>–í–æ–∑—Ä–∞—Å—Ç:</b> 20 –ª–µ—Ç
<b>–°—Ç–∞—Ç—É—Å:</b> –∏–Ω–≤–∞–ª–∏–¥ 1 –≥—Ä—É–ø–ø—ã

<b>–ò—Å—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞–Ω–∏—è:</b>
–í—Å–µ–≥–¥–∞ –º–µ—á—Ç–∞–ª —Å–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É, –≥–¥–µ –ò–ò —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞ –ª—é–¥–µ–π ‚Äî –æ—Ç –æ—Ç–∫–ª–∏–∫–æ–≤ –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤. 

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî —à–∞–≥ –∫ —Ç–æ–º—É, —á—Ç–æ–±—ã –ª—é–¥–∏ –º–æ–≥–ª–∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å, –¥–∞–∂–µ –∫–æ–≥–¥–∞ –Ω–µ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.

<b>–ú–∏—Å—Å–∏—è:</b>
–°–¥–µ–ª–∞—Ç—å –∑–∞—Ä–∞–±–æ—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è –≤—Å–µ—Ö, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∏–ª–∏ –∂–∏–∑–Ω–µ–Ω–Ω—ã—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤.

<b>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:</b>
‚Ä¢ Python + aiogram
‚Ä¢ Supabase (PostgreSQL)
‚Ä¢ AI/ML –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–∫–ª–∏–∫–æ–≤
‚Ä¢ CryptoBot API –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π

<i>"–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–º–æ–≥–∞—Ç—å –ª—é–¥—è–º –∂–∏—Ç—å –ª—É—á—à–µ" - –æ—Å–Ω–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞</i>
"""
        await callback.message.edit_text(
            text,
            reply_markup=get_team_menu(),
            parse_mode="HTML"
        )
        await callback.answer()
        
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –≤ show_team: {e}")
        await callback.answer("üòî –û—à–∏–±–∫–∞", show_alert=True)


async def show_future_plans(callback: CallbackQuery):
    """–ü–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–¥–µ–ª "–ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ" """
    try:
        text = """
üöÄ <b>–ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ</b>

<b>–í–µ—Ä—Å–∏—è 0.0.5 (–±–ª–∏–∂–∞–π—à–∞—è):</b>
üîß –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä—É–±–ª–µ–≤—ã—Ö –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö —à–ª—é–∑–æ–≤
üí≥ –ÆKassa / Stripe –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
üìä –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

<b>–í–µ—Ä—Å–∏—è 0.1.0:</b>
üß† –°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –ò–ò –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
üéØ –£–ª—É—á—à–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–∫–ª–∏–∫–æ–≤
üìà –ê–Ω–∞–ª–∏–∑ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –æ—Ç–∫–ª–∏–∫–æ–≤

<b>–í–µ—Ä—Å–∏—è 0.2.0:</b>
üßæ –ê–≤—Ç–æ-–ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç
üì∏ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç
‚≠ê –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤

<b>–í–µ—Ä—Å–∏—è 0.3.0:</b>
üåç –í—ã—Ö–æ–¥ –Ω–∞ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –±–∏—Ä–∂–∏:
   ‚Ä¢ Fiverr
   ‚Ä¢ Upwork
   ‚Ä¢ Freelancer
   ‚Ä¢ Guru

<b>–í–µ—Ä—Å–∏—è 1.0.0:</b>
üíé –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ PRO –∏ ULTRA
ü§ñ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ò–ò
üíº –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π
üèÜ –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ –±–æ–Ω—É—Å–æ–≤

<b>–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —Ü–µ–ª–∏:</b>
‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ –ò–ò-—Ñ—Ä–∏–ª–∞–Ω—Å–µ—Ä–æ–≤
‚Ä¢ –û–±—É—á–µ–Ω–∏–µ –ò–ò –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–∫–∞–∑–∞—Ö
‚Ä¢ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

<i>–ú—ã —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–∏ –ø—É—Ç—å –∫ –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ñ—Ä–∏–ª–∞–Ω—Å–∞! üöÄ</i>
"""
        await callback.message.edit_text(
            text,
            reply_markup=get_future_menu(),
            parse_mode="HTML"
        )
        await callback.answer()
        
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –≤ show_future_plans: {e}")
        await callback.answer("üòî –û—à–∏–±–∫–∞", show_alert=True)


async def show_agreement(callback: CallbackQuery):
    """–ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ"""
    try:
        text = """
üìú <b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</b>

<b>1. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è</b>
–ò—Å–ø–æ–ª—å–∑—É—è —ç—Ç–æ—Ç –±–æ—Ç, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å —É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

<b>2. –û–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞</b>
–ë–æ—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ —Ñ—Ä–∏–ª–∞–Ω—Å-–±–∏—Ä–∂–∞—Ö.

<b>3. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</b>
‚Ä¢ –ë–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞–¥–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (beta)
‚Ä¢ –ú—ã –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º 100% –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞
‚Ä¢ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Å–≤–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è

<b>4. –ü–ª–∞—Ç–µ–∂–∏</b>
‚Ä¢ –í—Å–µ –ø–ª–∞—Ç–µ–∂–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ CryptoBot
‚Ä¢ –í–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤ –≤–æ–∑–º–æ–∂–µ–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ 14 –¥–Ω–µ–π
‚Ä¢ –ö–æ–º–∏—Å—Å–∏–∏ –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è

<b>5. –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</b>
‚Ä¢ –ú—ã –Ω–µ –ø–µ—Ä–µ–¥–∞–µ–º –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º
‚Ä¢ –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—â–∏—â–µ–Ω–Ω–æ–π –±–∞–∑–µ Supabase
‚Ä¢ –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—Ä–æ—Å–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

<b>6. –ò–∑–º–µ–Ω–µ–Ω–∏—è</b>
–ú—ã –æ—Å—Ç–∞–≤–ª—è–µ–º –∑–∞ —Å–æ–±–æ–π –ø—Ä–∞–≤–æ –∏–∑–º–µ–Ω—è—Ç—å —É—Å–ª–æ–≤–∏—è —Å–æ–≥–ª–∞—à–µ–Ω–∏—è.

<b>–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:</b> 14.11.2025
<b>–í–µ—Ä—Å–∏—è:</b> 1.0

<i>–ù–∞–∂–∏–º–∞—è "–ü—Ä–∏–Ω–∏–º–∞—é", –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å —É—Å–ª–æ–≤–∏—è–º–∏</i>
"""
        await callback.message.edit_text(
            text,
            reply_markup=get_agreement_menu(),
            parse_mode="HTML"
        )
        await callback.answer()
        
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –≤ show_agreement: {e}")
        await callback.answer("üòî –û—à–∏–±–∫–∞", show_alert=True)


async def accept_agreement(callback: CallbackQuery):
    """–ü—Ä–∏–Ω—è—Ç–∏–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è"""
    await callback.answer("‚úÖ –°–ø–∞—Å–∏–±–æ! –°–æ–≥–ª–∞—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ.", show_alert=False)
    # –ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ë–î —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–Ω—è–ª —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ
    await show_main_menu(callback)


async def show_main_menu(callback: CallbackQuery):
    """–ü–æ–∫–∞–∑–∞—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é"""
    try:
        text = """
üè† <b>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</b>

–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:
"""
        await callback.message.edit_text(
            text,
            reply_markup=get_main_menu(),
            parse_mode="HTML"
        )
        await callback.answer()
        
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –≤ show_main_menu: {e}")
        await callback.answer("üòî –û—à–∏–±–∫–∞", show_alert=True)


def register_handlers(router: Router):
    """–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤"""
    router.callback_query.register(show_about_project, lambda c: c.data == "about_project")
    router.callback_query.register(show_team, lambda c: c.data == "team")
    router.callback_query.register(show_future_plans, lambda c: c.data == "future_plans")
    router.callback_query.register(show_agreement, lambda c: c.data == "agreement")
    router.callback_query.register(accept_agreement, lambda c: c.data == "accept_agreement")
    router.callback_query.register(show_main_menu, lambda c: c.data == "main_menu")
