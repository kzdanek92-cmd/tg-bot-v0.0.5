📺 ПОШАГОВАЯ ВИДЕО-ИНСТРУКЦИЯ: ДЕПЛОЙ НА RENDER
════════════════════════════════════════════════════════════════

КРАТКОЕ РЕЗЮМЕ:
✓ 10 минут
✓ Бот будет работать 24/7 на бесплатном хостинге
✓ Никаких платежей
✓ После получения прибыли → перейти на платный

════════════════════════════════════════════════════════════════
ФАЗА 1: GITHUB SETUP (5 минут)
════════════════════════════════════════════════════════════════

1️⃣ ОТКРЫТЬ PowerShell:
   Нажми Win+R → введи "powershell" → Enter

2️⃣ ПЕРЕЙТИ В ПАПКУ ПРОЕКТА:
   Скопируй и вставь:
   ```
   cd "c:\Users\kzdan\OneDrive\Desktop\Новая папка"
   ```

3️⃣ ИНИЦИАЛИЗИРОВАТЬ GIT:
   ```
   git init
   git add .
   git commit -m "Initial commit - v0.0.5 with payments"
   ```
   Должно вывести список файлов и число insertions.

4️⃣ СОЗДАТЬ РЕПОЗИТОРИЙ НА GITHUB:
   - Открыть https://github.com/new в браузере
   - Repository name: tg-bot-v0.0.5
   - Public (важно!)
   - Нажать "Create repository"

5️⃣ PUSH КОД НА GITHUB:
   Скопировать из GitHub "…or push an existing repository from the command line"
   Должно быть примерно:
   ```
   git remote add origin https://github.com/[твой_username]/tg-bot-v0.0.5.git
   git branch -M main
   git push -u origin main
   ```
   Вставить в PowerShell (заменить [твой_username])

6️⃣ ПРОВЕРИТЬ:
   Открыть https://github.com/[твой_username]/tg-bot-v0.0.5
   Должны видеть все файлы проекта ✓

════════════════════════════════════════════════════════════════
ФАЗА 2: RENDER SETUP (3 минуты)
════════════════════════════════════════════════════════════════

7️⃣ ОТКРЫТЬ RENDER И SIGN UP:
   - Перейти https://render.com
   - Нажать "Sign Up"
   - Выбрать "Sign up with GitHub"
   - Авторизоваться через GitHub

8️⃣ СОЗДАТЬ WEB SERVICE:
   - Нажать "+ New" → "Web Service"
   - Нажать "Connect a repository"
   - Выбрать "tg-bot-v0.0.5"
   - Нажать "Connect"

9️⃣ ЗАПОЛНИТЬ ФОРМУ:
   
   Name:
   tg-bot-v0.0.5
   
   Environment:
   Python
   
   Build Command:
   pip install -r bot_v0.0.2/requirements.txt
   
   Start Command:
   cd bot_v0.0.2 && python bot.py
   
   Plan:
   Free (внизу страницы)
   
   Нажать "Create Web Service"

🔟 ЖДАТЬ BUILD:
   Смотреть "Logs" (справа)
   Ждать пока закончится install всех пакетов
   ~3-5 минут

════════════════════════════════════════════════════════════════
ФАЗА 3: ПЕРЕМЕННЫЕ ОКРУЖЕНИЯ (2 минуты)
════════════════════════════════════════════════════════════════

1️⃣1️⃣ ДОБАВИТЬ ПЕРЕМЕННЫЕ:
    - В левом меню нажать "Environment"
    - Нажать "Add Environment Variable"
    - Добавить каждую переменную из .env:

    KEY: BOT_TOKEN
    VALUE: 8377810720:AAH_HA42Cezxe0apHh24DuyDxAiBvPstGHI
    
    KEY: SUPABASE_URL
    VALUE: https://wqerdkudikouqgsbsrnj.supabase.co
    
    KEY: SUPABASE_KEY
    VALUE: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
    (вся длинная строка)
    
    KEY: CRYPTOBOT_TOKEN
    VALUE: 487477:AAtpIbP21izkuwcDPWutkWtRfjlF3Gpbedk
    
    KEY: LOG_LEVEL
    VALUE: INFO

    (Когда FreeKassa подтвердит кассу, добавить ещё 3 переменные)

1️⃣2️⃣ НАЖАТЬ "Save":
    Render автоматически перезапустит бота с новыми переменными

════════════════════════════════════════════════════════════════
ФАЗА 4: ПРОВЕРКА (1 минута)
════════════════════════════════════════════════════════════════

1️⃣3️⃣ СМОТРЕТЬ LOGS:
    Должно быть:
    "✅ Бот успешно запущен"
    или похожее сообщение об успехе

1️⃣4️⃣ СКОПИРОВАТЬ PUBLIC URL:
    Вверху страницы видно что-то вроде:
    https://tg-bot-v0.0.5.onrender.com
    
    СКОПИРОВАТЬ ЭТУ ССЫЛКУ!

════════════════════════════════════════════════════════════════
ФАЗА 5: ОБНОВЛЕНИЕ FREEKASSA (1 минута)
════════════════════════════════════════════════════════════════

1️⃣5️⃣ ПАНЕЛЬ FREEKASSA → "Активация мерчанта":
    
    Обновить URL ОПОВЕЩЕНИЯ:
    https://tg-bot-v0.0.5.onrender.com/webhook/freekassa
    
    Обновить URL УСПЕШНОЙ ОПЛАТЫ:
    https://tg-bot-v0.0.5.onrender.com/payment-success
    
    Обновить URL ВОЗВРАТА:
    https://tg-bot-v0.0.5.onrender.com/payment-failed
    
    Нажать "СОХРАНИТЬ И ПРОВЕРИТЬ"

════════════════════════════════════════════════════════════════
✅ ГОТОВО! БОТ РАБОТАЕТ 24/7!
════════════════════════════════════════════════════════════════

Теперь бот:
✓ Постоянно включен на Render
✓ Имеет публичный URL для webhook'ов
✓ Может получать платежи через FreeKassa
✓ Автоматически перезапускается при ошибках

════════════════════════════════════════════════════════════════
КОГДА НУЖНО ОБНОВИТЬ КОД?
════════════════════════════════════════════════════════════════

Если нужно изменить код (добавить новую функцию и т.д.):

1. Отредактировать файл локально
2. Сделать commit:
   git add .
   git commit -m "Add new feature"
   git push origin main
3. Render автоматически заметит изменения
4. Через ~3-5 минут новый код будет live

════════════════════════════════════════════════════════════════
ПОИСК ПРОБЛЕМ
════════════════════════════════════════════════════════════════

Если что-то не работает:

1. Смотри Logs на Render (красные строки = ошибки)
2. Типичные ошибки:
   - "KeyError" → забыл переменную в Environment
   - "ModuleNotFoundError" → пакет не в requirements.txt
   - "ConnectionRefused" → неправильный URL Supabase

3. Чтобы перезапустить:
   Settings → Restart Instance

════════════════════════════════════════════════════════════════
КОГДА БУДЕШЬ ПОЛУЧАТЬ ПРИБЫЛЬ?
════════════════════════════════════════════════════════════════

1. Когда заработаешь деньги → купи домен (пример.ру)
2. Куплю VPS на Hetzner/DigitalOcean (~5$/месяц)
3. Перенесу туда же код (процесс похож)

На VPS есть преимущества:
✓ Нет лимитов памяти
✓ Полный контроль
✓ Больше скорости
✓ Можно больше функций добавить

════════════════════════════════════════════════════════════════

Если остались вопросы — читай DEPLOY_TO_RENDER.md

════════════════════════════════════════════════════════════════
